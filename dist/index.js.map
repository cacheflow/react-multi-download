{"version":3,"sources":["../src/index.js"],"names":["classNames","require","MultiDownload","props","state","showDownloadButton","nextProps","files","length","setState","urls","delayTime","forEach","u","setTimeout","link","document","createElement","download","href","dispatchEvent","MouseEvent","btnClassNames","btnClassName","ctrClassNames","ctrClassName","ctnStyle","textAlign","margin","saveAs","downloadTitle","propTypes","array","string","defaultProps"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;AACA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;;IAGMC,a;;;AACH,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8HACZA,KADY;;AAElB,UAAKC,KAAL,GAAa;AACXC,0BAAoB;AADT,KAAb;AAFkB;AAKnB;;;;8CAgByBC,S,EAAW;AACnC,UAAGA,UAAUC,KAAV,CAAgBC,MAAhB,IAA0B,CAA7B,EAAgC;AAC9B,aAAKC,QAAL,CAAc,EAACJ,oBAAoB,IAArB,EAAd;AACD,OAFD,MAGK;AACH,aAAKI,QAAL,CAAc,EAACJ,oBAAoB,KAArB,EAAd;AACD;AACF;;;0CAEqBC,S,EAAW;AAC/B,aAAO,KAAKH,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,KAA4BF,UAAUC,KAAV,CAAgBC,MAAnD;AACD;;;2BAEME,I,EAAM;AACX;AACA,UAAIC,YAAY,EAAhB;AACAD,WAAKE,OAAL,CAAa,UAACC,CAAD,EAAO;AAClBC,mBAAW,YAAM;AACf,cAAIC,OAAOC,SAASC,aAAT,CAAuB,GAAvB,CAAX;AACAF,eAAKG,QAAL,GAAgB,EAAhB;AACAH,eAAKI,IAAL,GAAYN,CAAZ;AACAE,eAAKK,aAAL,CAAmB,IAAIC,UAAJ,CAAe,OAAf,CAAnB;AACD,SALD,EAKG,MAAM,EAAEV,SALX;AAMD,OAPD;AAQH;;;6BAEU;AAAA;;AACP,UAAIW,gBAAgBtB,WAAW,KAAX,EAAkB,aAAlB,EAAiC,KAAKG,KAAL,CAAWoB,YAA5C,CAApB;AACA,UAAIC,gBAAgBxB,WAAW,2BAAX,EAAwC,KAAKG,KAAL,CAAWsB,YAAnD,CAApB;AACA,UAAMC,WAAW;AACfC,mBAAW,QADI;AAEfC,gBAAQ;AAFO,OAAjB;AAIA,aACI;AAAA;AAAA,UAAK,WAAWJ,aAAhB,EAA+B,OAAOE,QAAtC;AAEI,aAAKtB,KAAL,CAAWC,kBAAX,GACE;AAAA;AAAA,YAAQ,IAAG,cAAX;AACE,uBAAWiB,aADb;AAEE,qBAAS,mBAAM;AACb,qBAAKO,MAAL,CAAY,OAAK1B,KAAL,CAAWI,KAAvB;AACD,aAJH;AAKE,2BAAY,MALd;AAME,0BAAW,EANb;AAMiB,eAAKJ,KAAL,CAAW2B;AAN5B,SADF,GAOwD;AAT5D,OADJ;AAeD;;;;;;AAtEG5B,a,CAQI6B,S,GAAY;AAClBxB,SAAO,oBAAUyB,KADC;AAElBF,iBAAe,oBAAUG,MAFP;AAGlBV,gBAAc,oBAAUU,MAHN;AAIlBR,gBAAc,oBAAUQ;AAJN,C;AARhB/B,a,CAeIgC,Y,GAAe;AACrB3B,SAAO,EADc;AAErBgB,gBAAc,EAFO;AAGrBE,gBAAc,EAHO;AAIrBK,iBAAe;AAJM,C;kBA0DV5B,a","file":"index.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nlet classNames = require('classnames');\n\n\nclass MultiDownload extends Component {\n   constructor(props) {\n    super(props)\n    this.state = {\n      showDownloadButton: false,\n    }\n  }\n\n   static propTypes = {\n    files: PropTypes.array, \n    downloadTitle: PropTypes.string, \n    btnClassName: PropTypes.string,\n    ctrClassName: PropTypes.string\n   }\n\n   static defaultProps = {\n    files: [], \n    btnClassName: '',\n    ctrClassName: '',\n    downloadTitle: 'Download'\n   }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.files.length >= 1) {\n      this.setState({showDownloadButton: true})\n    }\n    else {\n      this.setState({showDownloadButton: false})\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.files.length !== nextProps.files.length\n  }\n\n  saveAs(urls) {\n    // from http://stackoverflow.com/questions/283956/\n    let delayTime = 10\n    urls.forEach((u) => {\n      setTimeout(() => {\n        let link = document.createElement('a');\n        link.download = '';\n        link.href = u;\n        link.dispatchEvent(new MouseEvent('click'))\n      }, 100 * ++delayTime)\n    })\n}\n\n  render() {\n    let btnClassNames = classNames('btn', 'btn-primary', this.props.btnClassName) \n    let ctrClassNames = classNames('download-button-container', this.props.ctrClassName) \n    const ctnStyle = {\n      textAlign: 'center',\n      margin: \"0 auto\"\n    };\n    return (\n        <div className={ctrClassNames} style={ctnStyle}>\n          {\n            this.state.showDownloadButton ?\n              <button id=\"download-btn\"\n                className={btnClassNames}\n                onClick={() => {\n                  this.saveAs(this.props.files)\n                }}\n                aria-hidden=\"true\"\n                data-files=\"\">{this.props.downloadTitle}</button> : null\n          }\n        </div>\n\n    )\n  }\n}\n\nexport default MultiDownload\n"]}